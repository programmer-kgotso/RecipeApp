<ons-page id="preferences">
    <ons-toolbar>
        <div class="left">
            <ons-back-button></ons-back-button>
        </div>
        <div class="center" style="font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;">Preferences
        </div>
    </ons-toolbar>
    <ons-progress-bar indeterminate></ons-progress-bar>

    <ons-list>
        <ons-list-header>Settings</ons-list-header>
        <ons-list-item>
            <div class="center">Enable Dark Theme</div>
            <div class="right">
                <ons-switch id="darkModeEnabledSwitch"></ons-switch>
            </div>
        </ons-list-item>
    </ons-list>
    <script>
        document.addEventListener('init'
            , function (event) {
                var page = event.target;
                if (window.localStorage.getItem("darkModeEnabledSwitch") == "true") {
                    document.getElementById("darkModeEnabledSwitch").checked = true;
                }
                else {
                    document.getElementById("darkModeEnabledSwitch").checked = false;
                };

                document.getElementById("darkModeEnabledSwitch").onclick = function () {
                    if (document.getElementById("darkModeEnabledSwitch").checked == true) {
                        window.localStorage.setItem("darkModeEnabledSwitch"
                            ,
                            "true");
                        document.querySelector('#theme').setAttribute('href',
                            'www/assets/onsenui/css/dark-onsen-css-components.css');
                    }

                    else if (document.getElementById("darkModeEnabledSwitch").checked ==
                        false) {
                        window.localStorage.setItem("darkModeEnabledSwitch"
                            ,
                            "false");
                        document.querySelector('#theme').setAttribute('href'
                            ,
                            'www/assets/onsenui/css/onsen-css-components.min.css');
                    }
                }
            });

    </script>

</ons-page>